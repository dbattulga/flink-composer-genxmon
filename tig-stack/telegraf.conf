##################################################
###         INFLUXDB + MQTT CONNECTOR          ###
##################################################

[[inputs.mqtt_consumer]]
	#servers = ["tcp://localhost:1883"]
	servers = ["tcp://10.188.166.98:1883"]
	qos = 0
	connection_timeout = "30s"
	topics = [
  		"T-N"
	]

	data_format = "value"
	data_type = "integer"

#	data_format = "json"
#	tag_keys = [
#    	"region"
#    ]
#	[[processors.converter]]
#	[processors.converter.fields]
#		integer = ["count"]


[[outputs.influxdb]]
	urls = ["http://influxdb:8086"]
 	database = "telegraf"
	skip_database_creation = false
	#username = "telegraf"
	#password = "telegraf"

##################################################
###           OTHER SYSTEM METRICS             ###
##################################################

# Read metrics about CPU usage
#[[inputs.cpu]]
#  percpu = false
#  totalcpu = true
#  fieldpass = [ "usage*" ]
#  name_suffix = "_vm"

# Read metrics about disk usagee
#[[inputs.disk]]
#  fielddrop = [ "inodes*" ]
#  mount_points=["/"]
#  name_suffix = "_vm"

# Read metrics about network usage
#[[inputs.net]]
#  interfaces = [ "eth0" ]
#  fielddrop = [ "icmp*", "ip*", "tcp*", "udp*" ]
#  name_suffix = "_vm"

# Read metrics about memory usage
#[[inputs.mem]]
#  name_suffix = "_vm"

# Read metrics about swap memory usage
#[[inputs.swap]]
#  name_suffix = "_vm"

# Read metrics about system load & uptime
#[[inputs.system]]
#  name_suffix = "_vm"

#[[outputs.influxdb]]
#  database = "vm_metrics"
#  urls = ["http://influxdb:8086"]
#  namepass = ["*_vm"]